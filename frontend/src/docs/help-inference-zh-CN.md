# 插件与推理使用指南

本页介绍插件系统和 Python 环境管理。

---

## 1. 插件系统

### 1.1 概述

插件系统已完成基础框架搭建，可用于：

- 数据集导入导出
- 训练
- 推理辅助标注

> 开发插件请参考 `host-plugins` 目录的示例源码及文档。

### 1.2 内置插件

| 插件 | 功能 |
|------|------|
| **SAM2** | 分割辅助标注 |
| **格式转换** | 支持 YOLO、COCO、VOC 格式 |
| **Ultralytics YOLO** | 推理和训练 |

### 1.3 安装插件

从其他渠道获取的插件为 `.rar` 或 `.zip` 压缩包。

点击**从磁盘安装**按钮安装。

### 1.4 卸载与更新

| 操作 | 说明 |
|------|------|
| **卸载** | 会同时删除该插件已部署的虚拟环境 |
| **更新** | 直接覆盖安装即可 |

> 插件市场敬请期待。

---

## 2. Python 环境管理

### 2.1 进入环境管理

点击左侧栏的 **Python 环境管理**按钮进入页面。

### 2.2 依赖检测

进入页面后，系统会自动检测需要 Python 环境的插件的依赖安装状态。

未安装的插件会有明显提醒。

### 2.3 前置条件

部署环境前请确保：

- 系统已安装 Python
- Python 已添加到系统环境变量 PATH 中

### 2.4 部署流程

1. 点击需要配置的插件
2. 查看该插件的所需依赖
3. 点击**创建虚拟环境**
4. 环境创建完成后，点击**安装依赖**

> **提示**：部分情况下依赖安装可能失败，请使用 pip 命令手动安装合适版本的依赖。

---

## 3. AI 辅助标注插件

### 3.1 使用方式

点击底部栏的**插件按钮**打开插件小窗。

### 3.2 内置辅助插件

| 插件 | 使用方式 |
|------|----------|
| **SAM2** | 加载模型后，选中多边形或矩形框类别，按住 `Shift` 点击目标进行分割推理 |
| **YOLO** | 选中模型后，切换图片会自动推理 |

### 3.3 关键点自动绑定

使用姿态估计模型（如 YOLO-Pose）推理时：

1. 模型输出的矩形框类别名与项目中的矩形框类别匹配
2. 该矩形框类别已绑定关键点类别
3. 推理输出的关键点会自动使用绑定的关键点语义

> **注意**：关键点数量和顺序需要与类别绑定的骨架定义一致。

### 3.4 保存推理结果

推理渲染的结果需要**手动保存**，自动保存不会保存推理结果.
